<!-- MAP SCREEN -->

<div id="map">
    <!-- Google map will be added here programmatically. -->
</div>

<div class="content">
    <button onclick="myLocation()">My location</button>
    <button onclick="getTreesAround()">Get trees around</button>
</div>

<div class="bottom-bar">
    <div class="camera-button">
        &nbsp;
    </div>
</div>


<script>
    $(".camera-button").click(function() {

        clickPic();
    })

    //Opens the camera:
    function clickPic() {
        let options = {
            quality: 80,
            // destinationType: Camera.DestinationType.FILE_URI,
            destinationType: Camera.DestinationType.DATA_URL,
            sourceType: Camera.PictureSourceType.CAMERA,
            // sourceType: Camera.PictureSourceType.SAVEDPHOTOALBUM,
            mediaType: Camera.MediaType.PICTURE,
            encodingType: Camera.EncodingType.JPEG,
            cameraDirection: Camera.Direction.BACK,
            targetWidth: 300,
            targetHeight: 400,
            //saveToPhotoAlbum: true
        }

        navigator.camera.getPicture(function(imageURI) {
            //alert(imageURI)
            // $(".app").html("")
            appNavigator.loadPage("add-tree.html", function(responseTxt, statusTxt, xhr) {
                if(statusTxt == "success")
                $("#clicked-pic").attr("src", "data:image/jpeg;base64," + imageURI)
                if(statusTxt == "error")
                alert("Error: " + xhr.status + ": " + xhr.statusText);
            })


            // $("#msg").text(imageURI);
            // $("#photo").attr("src", imageURI);
        }, function(msg) {
            //$("#msg").text(msg)
            alert(msg)
        }, options);
    }
</script>
