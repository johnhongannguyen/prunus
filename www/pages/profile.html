<!-- SINGLE-FILE-COMPONENT -->
<!-- https://framework7.io/docs/router-component.html#single-file-component -->

<template>
    <div class="page" data-name="profile">

        <!-- Scrollable PAGE CONTENT-->
        <div class="page-content">

            <div class="frame-layout">

                <div class="back">
                    <img src="img/img_profile_bg.png">
                </div>

                <div class="front">

                    <div class="nav-bar">

                        <div class="icons back-arrow">
                            <!-- This div is just a placeholder now -->
                            <img src="img/ic_back.png" alt="Back">
                        </div>

                        <div class="title">Profile</div>

                        <div class="icons settings">
                            <!-- This div is just a placeholder now -->
                            <img src="img/ic_settings.png" alt="Settings">
                        </div>
                    </div>

                    <div class="img-profile-container">

                        <div class="img-profile-white-back"></div>
                        <img src="img/img_profile_photo_bg.png">
                        <img id="img-profile" class="elevation-4" src="img/test.png">

                    </div>


                </div>

            </div>


        </div>

    </div>

</template>
<!-- component styles -->
<style>

    /* 200px and 100px image impacting the variables!!! */

    .img-profile-container {
        width: 100%;
        align-self: flex-end;

        display: grid;

        grid-template-rows: 100px 100px;
        grid-template-columns: 1fr;
    }

    .img-profile-white-back {
        background-color: #fff;
        width: 100%;
        height: 200px;

        grid-row: 2/3;
        grid-column: 1 / 2;
    }

    .img-profile-container img {
        margin: auto;

        width: 200px;
        height: 200px;

        grid-row: 1/3;
        grid-column: 1 / 2;
    }

    #img-profile {

        width: 170px;
        height: 170px;

        background-color: #fff;
        border-radius: 50%;
    }


    /* ... */



    .frame-layout {
        display: grid;

        grid-template-rows: 1fr;
        grid-template-columns: 1fr;

    }

    .back {
        display: flex;
        background-image: linear-gradient(#db2763, #f5d0c5);
        width: 100%;
        grid-row: 1/2;
        grid-column: 1 / 2;

        height: 35vh;


    }

    .front {

        display: flex;

        /* background-color: rgba(60,85,47, 0.5); */
        width: 100%;
        grid-row: 1/2;
        grid-column: 1 / 2;

        height: calc(35vh + 100px);

    }

    .back img {
        align-self: flex-end;
        width: 100%;
        object-fit: cover;
    }

</style>
<!-- rest of component data and methods -->
<script>
    // script must return component object
    return {

        data: function () {
            return {

                //...
            }
        },

        on: {
            pageInit: function () {
                // do something on page init
                var self = this;


                $(".back-arrow").click(function (){
                    appNavigator.onBackPressed();
                });

                $(".settings").click(function (){
                    // alert("Settings");

                    appNavigator.openPageLogin();
                });






                var user = auth.getCurrentUser();
                if(user){

                    //Set values to fields. (This "user" is the user-firebase object...)
                    $("#img-profile").attr("src", user.photoURL);

                    // $("#user-name").val(user.displayName);
                    // $("#user-email").val(user.email);

                }else{
                    $("#img-profile").hide();
                }

            },
            pageAfterOut: function () {
                // page has left the view
            },
        }
    }
</script>
