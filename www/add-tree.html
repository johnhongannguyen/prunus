<style>
    #clicked-pic {
        width: 100%
    }
    .flex-box {
        display: flex;
        justify-content: space-between
    }
    .user-reaction {
        padding: 5px
    }
    .action-bar {
        display: flex;
        flex-direction: column
    }
    .action-bar button {
        padding: 10px;
        margin-top: 20px;
    }
</style>

<img src="" alt="Clicked Pic" id="clicked-pic">


<div class="user-reaction">
    <h2>Emotion</h2>
    <div class="flex-box">
        <span><input type="checkbox" name="emotion" value="happy"> Happy</span>
        <span><input type="checkbox" name="emotion" value="amazed"> Amazed</span>
        <span><input type="checkbox" name="emotion" value="stunned"> Stunned</span>
    </div>

    <h2>Status</h2>
    <div class="flex-box">
        <span><input type="radio" name="status" value="full"> Fully Bloomed</span>
        <span><input type="radio" name="status" value="blossom"> Blossoming</span>
        <span><input type="radio" name="status" value="grow"> Growing</span>
    </div>

    <h2>Location info</h2>
    <div class="flex-box">
        <span>Latitude: <span id="lat"></span></span>
        <span>Longitude: <span id="lng"></span></span>
    </div>

    <div class="action-bar">
        <button id="plant-tree">Submit</button>
    </div>
</div>

<script>

    if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(function(position) {
            $("#lat").html(position.coords.latitude)
            $("#lng").html(position.coords.longitude)
        })
    }

    $("#plant-tree").click(function(){
        var emotions = [];
        $.each($("input[name='emotion']:checked"), function(){
            emotions.push($(this).val());
        });

        var status = $("input[name='status']:checked").val();

        var lat = $("#lat").html()
        var lng = $("#lng").html()

        alert("Image URL: " + $("#clicked-pic").attr("src") + "\nEmotions: " + emotions.join(", ") + "\nStatus: " + status + "\nLatitude: " +  lat + "\nLongitude: " + lng)

        appNavigator.onBackPressed(function(responseTxt, statusTxt, xhr) {
            if(statusTxt == "success")
            initMap()
            if(statusTxt == "error")
            alert("Error: " + xhr.status + ": " + xhr.statusText);
        })
    })

</script>
